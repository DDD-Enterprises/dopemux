# Dopemux MCP Servers - Multi-Instance Configuration Template
# Copy this to .env and customize for each instance

# === INSTANCE CONFIGURATION ===
# Unique identifier for this Dopemux instance (e.g., dev, staging, prod, user1, etc.)
DOPEMUX_INSTANCE=default

# Base port range for this instance (each instance needs 20 ports)
# Instance 1: 3000-3019, Instance 2: 3020-3039, Instance 3: 3040-3059, etc.
PORT_BASE=3000

# === DERIVED PORTS (DO NOT EDIT - Auto-calculated) ===
# These are calculated from PORT_BASE
# MAS Sequential Thinking: PORT_BASE + 1
# Context7: PORT_BASE + 2
# Zen: PORT_BASE + 3
# ConPort: PORT_BASE + 4
# Task Master AI: PORT_BASE + 5
# Serena: PORT_BASE + 6
# Claude Context: PORT_BASE + 7
# Exa: PORT_BASE + 8
# MorphLLM: PORT_BASE + 11
# Desktop Commander: PORT_BASE + 12
# Minio Console: PORT_BASE + 15 (9001 mapped to PORT_BASE + 15)
# Minio API: PORT_BASE + 16 (9000 mapped to PORT_BASE + 16)
# Milvus: PORT_BASE + 17 (19530 mapped to PORT_BASE + 17)
# Milvus WebUI: PORT_BASE + 18 (9091 mapped to PORT_BASE + 18)

# === API KEYS ===
CONTEXT7_API_KEY=your_context7_key
CONTEXT7_ENDPOINT=https://api.context7.com

OPENAI_API_KEY=your_openai_key
OPENROUTER_API_KEY=your_openrouter_key
GEMINI_API_KEY=your_gemini_key
VOYAGEAI_API_KEY=your_voyageai_key
EXA_API_KEY=your_exa_key

# === NETWORK CONFIGURATION ===
# Each instance gets its own network to prevent conflicts
NETWORK_NAME=mcp-network-${DOPEMUX_INSTANCE}
NETWORK_SUBNET=172.20.0.0/16

# === VOLUME CONFIGURATION ===
# Instance-specific volumes (logs, configs, project data)
VOLUME_PREFIX=mcp_${DOPEMUX_INSTANCE}

# Shared volumes are automatically used for:
# - Code indexing (claude-context, milvus)
# - Documentation cache (context7)
# - Vector database infrastructure (etcd, minio)

# === CONTAINER NAME CONFIGURATION ===
# Each instance gets unique container names
CONTAINER_PREFIX=mcp-${DOPEMUX_INSTANCE}

# === MYSQL/REDIS PORTS (for Leantime integration) ===
MYSQL_PORT=$((PORT_BASE + 19))
REDIS_PORT=$((PORT_BASE + 20))

# === EXAMPLES FOR MULTIPLE INSTANCES ===
# Instance 1 (default): PORT_BASE=3000, ports 3000-3020
# Instance 2 (dev): PORT_BASE=3030, ports 3030-3050
# Instance 3 (staging): PORT_BASE=3060, ports 3060-3080
# Instance 4 (prod): PORT_BASE=3090, ports 3090-3110